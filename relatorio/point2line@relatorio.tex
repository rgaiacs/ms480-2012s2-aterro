% Copyright (c) 2012 Raniere Silva <r.gaia.cs@gmail.com>
% Copyright (c) 2012 Fernando Cezarino <feolce@gmail.com>
% Copyright (c) 2012 Ana Paula Diniz Marques <anapdinizm@gmail.com>
% Copyright (c) 2012 Camile Kunz <camileknz@gmail.com>
% Copyright (c) 2012 Ana Flavia <anaflavia.c.lima@gmail.com>
%
% This file is part of 'MS480 - 2012S2 - Aterro com Obstáculo'.
%
% 'MS480 - 2012S2 - Aterro com Obstáculo' is licensed under the Creative
% Commons Attribution-ShareAlike 3.0 Unported License. To view a copy of
% this license, visit http://creativecommons.org/licenses/by-sa/3.0/.
%
% 'MS480 - 2012S2 - Aterro com Obstáculo' is distributed in the hope
% that it will be useful, but WITHOUT ANY WARRANTY; without even the
% implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
% PURPOSE.

\section{Distância de ponto a reta} \label{sse:point2line}
% TODO Fazer as figuras
%TODO Colocar a ref.  http://mathworld.wolfram.com/Point-LineDistance2-Dimensional.html
A equação da reta $y=ax+by+c$ na Figura pode ser escrita como
\begin{equation*}
y=-\frac{a}{b}x-\frac{c}{b}\,.
\end{equation*}
Dados que pontos sobre esta reta têm coordenadas
\begin{equation*}
\left[ \begin{array}{c} x \\ -\frac{a}{b}x-\frac{c}{b} \end{array} \right] =
\left[ \begin{array}{c} 0 \\ -\frac{c}{b} \end{array} \right] -\frac{1}{b}
\left[ \begin{array}{c} -b \\ a \end{array} \right]x\,,
\end{equation*}
vemos que o vetor
\begin{equation*}
\left[ \begin{array}{c} -b \\ a \end{array} \right]
\end{equation*}
é paralelo à ela. Consequentemente, o vetor
\begin{equation*}
\textbf{v}=\left[ \begin{array}{c} a\\ b \end{array} \right]
\end{equation*}
é perpenducular à reta.

Dado um ponto $(x_0, y_0)$, um vetor que liga este ponto à reta é da forma
\begin{equation*}
\textbf{r}=\left[ \begin{array}{c} x-x_0\\ y-y_0 \end{array} \right]\,.
\end{equation*}
Fazendo a projeção de \textbf{r} em \textbf{v}, temos:
\begin{equation*}
\begin{aligned}
d&=|proj_v\textbf{r}| \\
&=\frac{|\textbf{v}\centerdot \textbf{r}|}{|\textbf{v}|} \\
&=\frac{|a(x-x_0)+b(y-y_0)|}{\sqrt{a^2+b^2}} \\
&=\frac{|ax+by-ax_0-by_0|}{\sqrt{a^2+b^2}} \\
&=\frac{|ax_0+by_0+c|}{\sqrt{a^2+b^2}}\,. \\
\end{aligned}
\end{equation*}

Caso a reta seja especificada por dois pontos $\textbf{a}=(x_1, y_1)$ e
$\textbf{b}=(x_2, y_2)$ , como é mostrado na Figura, então um vetor
perpendicular à reta é dado por:
\begin{equation*}
\textbf{v}=\left[ \begin{array}{c} y_2-y_1 \\ -(x_2-x_1) \end{array}\right] \,.
\end{equation*}
Dado um ponto $(x_0, y_0)$, o vetor que liga esse ponto à um dos pontos da reta
, digamos o ponto \textbf{a}, é:
\begin{equation*}
\textbf{r}=\left[ \begin{array}{c} x_1-x_0 \\ y_1-y_0\end{array}\right] \,.
\end{equation*}
Então, a distância é dada novamente pela projeção de \textbf{r} em \textbf{v},
ou seja:
\begin{equation*}
d =\frac{|\textbf{v}\centerdot \textbf{r}|}{|\textbf{v}|} =
\frac{(x_2-x_1)(y_1-y_0)-(x_1-x_0)(y_2-y_1)}{\sqrt{(x_2-x_1)^2-(y_2-y_1)^2}}\,.
\end{equation*}